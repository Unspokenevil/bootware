// Configuraion file for Zellij.
//
// For more information, visit
// https://zellij.dev/documentation/configuration.

default_layout "layout"
default_shell r#"{{ lookup('ansible.builtin.vars', user_shell + '_executable' ) }}"#

keybinds {
    tmux clear-defaults=true {}
    unbind "h" "H" "Alt f" "Alt h" "Alt j" "Alt k" "Alt l" "Alt p"
    unbind "Ctrl b" "Ctrl n" "Ctrl p" "Ctrl q"

    shared_except "locked" {
        unbind "Ctrl q"
        // Use "Ctrl h" as an alternative for "Ctrl ;" in terminals that do not
        // support the Kitty keyboard protocol.
        bind "Ctrl h" { MoveFocusOrTab "Right"; }
        bind "Ctrl j" { MoveFocusOrTab "Left"; }
        bind "Ctrl ;" { MoveFocusOrTab "Right"; }
        bind "Ctrl Down" { MovePane "Down"; }
        bind "Ctrl Left" { MovePane "Left"; }
        bind "Ctrl Right" { MovePane "Right"; }
        bind "Ctrl Up" { MovePane "Up"; }
    }
    shared_except "pane" "locked" {
        unbind "Ctrl p"
        bind "Ctrl y" { SwitchToMode "Pane"; }
    }
    shared_except "resize" "locked" {
        unbind "Ctrl n"
    }
    shared_except "tmux" "locked" {
        unbind "Ctrl b"
    }
    shared_among "renametab" "tab" {
        bind "Ctrl h" { GoToNextTab; }
        bind "Ctrl j" { GoToPreviousTab; }
        bind "Ctrl ;" { GoToNextTab; }
        bind "Ctrl Left" { MoveTab "Left"; }
        bind "Ctrl Right" { MoveTab "Right"; }
    }

    move {
        bind "j" "Left" { MovePane "Left"; }
        bind "k" "Down" { MovePane "Down"; }
        bind "l" "Up" { MovePane "Up"; }
        bind ";" "Right" { MovePane "Right"; }
    }
    normal {
        bind "Alt m" { ToggleFocusFullscreen; }
        bind "Alt w" { ToggleFloatingPanes; }
    }
    pane {
        unbind "c" "d" "f" "Ctrl p"
        bind "Ctrl m" { SwitchToMode "Normal"; }
        bind "g" { TogglePaneInGroup; }
        bind "j" { MoveFocus "Left"; }
        bind "k" { MoveFocus "Down"; }
        bind "l" { MoveFocus "Up"; }
        bind "m" { ToggleFocusFullscreen; SwitchToMode "Normal"; }
        bind "r" { SwitchToMode "RenamePane"; PaneNameInput 0; }
        bind "s" { SwitchToMode "Resize"; }
        bind ";" { MoveFocus "Right"; }
        bind "Down" { MovePane "Down"; }
        bind "Left" { MovePane "Left"; }
        bind "Right" { MovePane "Right"; }
        bind "Up" { MovePane "Up"; }
    }
    resize {
        bind "j" "Left" { Resize "Increase Left"; }
        bind "k" "Down" { Resize "Increase Down"; }
        bind "l" "Up" { Resize "Increase Up"; }
        bind ";" "Right" { Resize "Increase Right"; }
        bind "J" { Resize "Increase Left"; }
        bind "K" { Resize "Increase Down"; }
        bind "L" { Resize "Increase Up"; }
        bind "y" { SwitchToMode "Normal"; }
        bind ":" { Resize "Increase Right"; }
    }
    search {
        unbind "j" "Ctrl f"
        bind "k" "Down" { ScrollDown; }
        bind "l" "Up" { ScrollUp; }
    }
    scroll {
        unbind "j" "Ctrl f"
        bind "k" "Down" { ScrollDown; }
        bind "l" "Up" { ScrollUp; }
    }
    tab {
        unbind "l" "Down" "Up"
        bind "j" { GoToPreviousTab; }
        bind ";" { GoToNextTab; }
        bind "Left" { MoveTab "Left"; }
        bind "Right" { MoveTab "Right"; }
    }
}

mirror_session true
session_serialization false
serialize_pane_viewport false
show_release_notes false
show_startup_tips false
styled_underlines true

themes {
    default {
        bg 147 161 161
        black 253 246 227
        blue 38 139 210
        cyan 42 161 152
        fg 40 110 160
        green 133 153 0
        magenta 211 54 130
        orange 203 75 22
        red 220 50 47
        white 7 54 66
        yellow 181 137 0
    }
}

ui {
    pane_frames {
        rounded_corners true
    }
}
